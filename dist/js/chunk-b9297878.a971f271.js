(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9297878"],{"44b0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{attrs:{title:"账号管理",bordered:!1}}),a("a-spin",{attrs:{spinning:e.spinning,delayTime:"500"}},[a("div",{staticClass:"account",attrs:{id:"components-form-demo-advanced-search"}},[a("a-form",{staticClass:"ant-advanced-search-from",attrs:{layout:"inline",form:e.form}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["loginName",{initialValue:"",rules:[{required:!1,message:"请输入报表名称"}]}],expression:"['loginName', { initialValue: '', rules: [{ required: false, message: '请输入报表名称' }]}]"}],ref:"loginName",attrs:{placeholder:"账号"}})],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{initialValue:"",rules:[{required:!1,message:"请输入姓名"}]}],expression:"['userName', { initialValue: '', rules: [{ required: false, message: '请输入姓名' }]}]"}],ref:"userName",attrs:{placeholder:"姓名"}})],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ehrCode",{initialValue:"",rules:[{required:!1,message:"请输入编号"}]}],expression:"['ehrCode', { initialValue: '', rules: [{ required: false, message: '请输入编号' }]}]"}],ref:"ehrCode",attrs:{placeholder:"编号"}})],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleName",{initialValue:"",rules:[{required:!1,message:"请输入系统角色"}]}],expression:"['roleName', { initialValue: '', rules: [{ required: false, message: '请输入系统角色' }]}]"}],ref:"roleName",attrs:{placeholder:"系统角色"}})],1),a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["positionRoleCode",{initialValue:"",rules:[{required:!1,message:"请输入岗位角色"}]}],expression:"['positionRoleCode', { initialValue: '', rules: [{ required: false, message: '请输入岗位角色' }]}]"}],staticStyle:{width:"171px"},attrs:{placeholder:"岗位角色"}},[a("a-select-option",{attrs:{value:""}},[e._v("岗位角色")]),e._l(e.positionRoleCode,function(t,i,r){return a("a-select-option",{key:r,attrs:{value:i}},[e._v(e._s(t))])})],2)],1),a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["state",{initialValue:"",rules:[{required:!1,message:"请输入状态"}]}],expression:"['state', { initialValue: '', rules: [{ required: false, message: '请输入状态' }]}]"}],staticStyle:{width:"171px"},attrs:{placeholder:"状态"}},[a("a-select-option",{attrs:{value:""}},[e._v("状态")]),e._l(e.state,function(t,i){return a("a-select-option",{key:i,attrs:{value:i}},[e._v(e._s(t))])})],2)],1),a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["department",{initialValue:"",rules:[{required:!1,message:"请输入部门"}]}],expression:"['department', { initialValue: '', rules: [{ required: false, message: '请输入部门' }]}]"}],staticStyle:{width:"171px"},attrs:{placeholder:"部门"}},[a("a-select-option",{attrs:{value:""}},[e._v("部门")]),e._l(e.department,function(t,i){return a("a-select-option",{key:i,attrs:{value:t.Code}},[e._v(e._s(t.Name))])})],2)],1),a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["stuffType",{initialValue:"",rules:[{required:!1,message:"请输入编制"}]}],expression:"['stuffType', { initialValue: '', rules: [{ required: false, message: '请输入编制' }]}]"}],staticStyle:{width:"171px"},attrs:{placeholder:"编制"}},[a("a-select-option",{attrs:{value:""}},[e._v("编制")]),e._l(e.stuffType,function(t,i){return a("a-select-option",{key:i,attrs:{value:i}},[e._v(e._s(t))])})],2)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary",loading:e.searchLoading},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1),a("div",{staticClass:"operation"}),a("div",{staticClass:"search-result-list"},[a("a-table",{attrs:{scroll:{x:!0},columns:e.columns,dataSource:e.data,bordered:"",pagination:e.pagination,loading:e.loading,rowKey:function(e){return e.id}},on:{change:e.onChange},scopedSlots:e._u([{key:"action",fn:function(t,i){return a("span",{},[a("a-button",{attrs:{type:"primary",size:"small",loading:e.lookLoading},on:{click:function(t){return e.go(t,i.id,"look")}}},[e._v("查看")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-button",{attrs:{type:"primary",size:"small",loading:e.editLoading},on:{click:function(t){return e.go(t,i.id,"edit")}}},[e._v("编辑")])],1)}}])})],1)],1)])],1)},r=[],n=a("be94"),o=a("d4ec"),s=a("bee2"),l=a("99de"),c=a("7e84"),d=a("262e"),u=(a("cadf"),a("551c"),a("097d"),a("9ab4")),m=a("60a3"),p=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.spinning=!0,e.lookLoading=!1,e.editLoading=!1,e.loading=!1,e.searchLoading=!1,e.department=[],e.positionRoleCode={},e.state=[],e.stuffType=[],e.data=[],e.columns=[{title:"账号",dataIndex:"login_name",key:""},{title:"姓名",dataIndex:"name",key:""},{title:"EHR员工编号",dataIndex:"EHR_code",key:"",width:"120px"},{title:"邮箱",dataIndex:"email",key:""},{title:"手机",dataIndex:"mobile",key:""},{title:"固定电话",dataIndex:"phone",key:""},{title:"学校",dataIndex:"school_name",key:""},{title:"部门",dataIndex:"departName",key:""},{title:"校区",dataIndex:"area_name",key:""},{title:"编制",dataIndex:"stufftxt",key:""},{title:"停用日期",dataIndex:"modify_times",key:"",width:"110px"},{title:"状态",dataIndex:"statetxt",key:""},{title:"操作",dataIndex:"",key:"",width:"20%",scopedSlots:{customRender:"action"}}],e.pagination={current:1,pageSize:10,total:1},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"openReportScreen",value:function(){window.open(window.location.origin+"/reportScreen")}},{key:"beforeCreate",value:function(){this.form=this.$form.createForm(this)}},{key:"created",value:function(){}},{key:"mounted",value:function(){var e=this;this.initSearchSelectData(),this.form.validateFields(function(t,a){e.initDataFun(a)})}},{key:"initSearchSelectData",value:function(){var e=this;this.$post("/custom/UserManage/searchConditionInfo",null).then(function(t){2e3===t.state?(e.spinning=!1,e.department=t.data.department,e.positionRoleCode=t.data.positionRoleCode,e.state=t.data.state,e.stuffType=t.data.stuffType):(e.spinning=!1,e.$message.error(t.message,3))}).catch(function(t){"ECONNABORTED"===t.code?e.$message.error("请求超时",3):e.$message.error("请求失败",3),e.spinning=!1,e.data=[]})}},{key:"initDataFun",value:function(e){var t=this;this.$post("/custom/UserManage/getUserManageList",e).then(function(e){if(2e3===e.state){var a=Object(n["a"])({},t.pagination);t.loading=!1,a.total=e.data.count,t.data=e.data.data,t.pagination=a}else t.loading=!1,t.$message.error(e.message,3)}).catch(function(e){"ECONNABORTED"===e.code?t.$message.error("请求超时",3):t.$message.error("请求失败",3),t.loading=!1,t.data=[]})}},{key:"handleSearch",value:function(e){var t=this;this.form.validateFields(function(e,a){t.initDataFun(a)})}},{key:"onChange",value:function(e){var t=this,a=Object(n["a"])({},this.pagination);a.current=e.current,this.pagination=a(this).form.validateFields(function(a,i){a&&t.$message.error("表单信息有误",3),console.log("sdfsfsdf");var r=Object(n["a"])({nowpage:e.current,pageSize:e.pageSize},i);console.log(r),t.initDataFun(r)})}},{key:"filterOption",value:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}},{key:"go",value:function(e,t,a){e.preventDefault();var i=t;window.open(window.location.origin+"/accountMessage?userId="+i+"&type="+a)}}]),t}(m["d"]);p=u["a"]([m["a"]],p);var f=p,g=f,v=(a("9c2e"),a("2877")),h=Object(v["a"])(g,i,r,!1,null,"2c83c7a4",null);t["default"]=h.exports},"83cc":function(e,t,a){},"9c2e":function(e,t,a){"use strict";var i=a("83cc"),r=a.n(i);r.a},be94:function(e,t,a){"use strict";function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){i(e,t,a[t])})}return e}a.d(t,"a",function(){return r})}}]);